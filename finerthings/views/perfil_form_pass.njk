{% extends "layout.njk" %}

{% block head %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>FinerThings</title>
    <link rel="stylesheet" href="/stylesheets/perfilpass.css">
{% endblock %}
{% block header %}
{% endblock %}

{% block content %}

    {% if signupMessage  %}
        <div><h5>{{ signupMessage }}</h5></div>
    {% endif %}

    <div class="box">
        <img src="img/background2.png" alt="Background">
        <div class="text">
            <h1>Modifica tu contraseña de Finer Things</h1>
            <div class="signup-form">
                <form id="registro" method="POST" action="/perfil_form_pass" encType="multipart/form-data">

                    <label for="password">Contraseña</label>
                    <input name="password" type="password"  class="form-control" id="password" placeholder="Debe contener un número, minúsculas, mayúsculas y mínimo 8 caracteres" required="required" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"/>

                   <p><label for="passwordConfirmation">Repite tu contraseña</label>
                    <input name="passwordConfirmation" type="password"  class="form-control" placeholder="Confirma que has escrito tu contraseña correctamente" id="passwordConfirmation" oninput="check(this)" required="required" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"/>

                    <br>
                    <input type="button" class="btn btn-outline-dark" onclick="location.href='/miperfil'"  value="Cancelar">
                    <input type="submit" class="btn btn-outline-dark" value="Cambiar contraseña">
                    <br>

                </form>
            </div>
        </div>
    </div>


{% endblock %}

{% block footer %}

    <script type='text/javascript'>
        function check(input) {
            if (input.value != document.getElementById('password').value) {
                input.setCustomValidity('Password Must be Matching.');
            } else {
                // input is valid -- reset the error message
                input.setCustomValidity('');
            }
        }
    </script>

{% endblock %}